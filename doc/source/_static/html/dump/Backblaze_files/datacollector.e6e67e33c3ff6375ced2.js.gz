(()=>{var e={1569:(e,t,i)=>{"use strict";i.d(t,{o7:()=>d});var a=i(570);let n=[];const r="SearchEvent",s="SearchBounced",o="NoSearchEvent";function d(e,t){e=e?.trim(),e?.length>0&&function(e){const t=(0,a.$z)(),i=JSON.stringify(e);void 0!==t&&t.length>0&&void 0!==i&&i.length>0&&$.ajax({headers:{ProjectId:e.ProjectId},type:"POST",data:i,contentType:"application/json",url:window.layoutData.analyticsDataCollectorUrl})}(function(e,t,i=!1){const{layoutData:a,documentData:d}=window;let l;if(l=t==s||t==r||t==o?{ProjectId:window.layoutData.projectId,ProjectVersionId:window.layoutData.projectVersionId,Language:window.layoutData.langCode,HideFeedbackNameEmail:window.layoutData.hideUserFeedbackNameEmail,UserType:window.layoutData.userType,LoggedInUserId:window.layoutData.loggedInUserId,ArticleId:""}:{ArticleId:d.articleId,CategoryId:d.categoryId,isCategory:d.isCategory,AuthorId:d.authorId,ProjectId:a.projectId,ProjectVersionId:a.projectVersionId,LanguageVersionId:a.languageVersionId,Language:a.langCode,HideFeedbackNameEmail:a.hideUserFeedbackNameEmail,UserType:a.userType,LoggedInUserId:a.loggedInUserId},t==s)if(i){const e=window.selectedResultLanguageId,t=n.filter((t=>t!=e));l.LanguageIds=t||[]}else l.LanguageIds=[window.layoutData.languageVersionId];else n.length>0?l.LanguageIds=n:l.LanguageIds=[window.layoutData.languageVersionId];const c=JSON.parse(JSON.stringify(l));return c.TimeStamp=new Date,c.Application="UserWebsite",c.Name=window.layoutData.userName,c.Email=window.layoutData.emailId,c.EventType=t,c.SearchKeyword=e,c}(e,t))}},3710:(e,t,i)=>{e.exports=function e(t,i,a){function n(s,o){if(!i[s]){if(!t[s]){if(r)return r(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var l=i[s]={exports:{}};t[s][0].call(l.exports,(function(e){return n(t[s][1][e]||e)}),l,l.exports,e,t,i,a)}return i[s].exports}for(var r=void 0,s=0;s<a.length;s++)n(a[s]);return n}({1:[function(e,t,i){"use strict";var a=e("../src/store-engine"),n=[e("../storages/localStorage"),e("../storages/sessionStorage"),e("../storages/cookieStorage"),e("../storages/memoryStorage")],r=[e("../plugins/compression"),e("../plugins/expire")];t.exports=a.createStore(n,r)},{"../plugins/compression":2,"../plugins/expire":3,"../src/store-engine":5,"../storages/cookieStorage":7,"../storages/localStorage":8,"../storages/memoryStorage":9,"../storages/sessionStorage":10}],2:[function(e,t,i){"use strict";var a=e("./lib/lz-string");t.exports=function(){return{get:function(e,t){var i=e(t);if(!i)return i;var n=a.decompress(i);return null==n?i:this._deserialize(n)},set:function(e,t,i){e(t,a.compress(this._serialize(i)))}}}},{"./lib/lz-string":4}],3:[function(e,t,i){"use strict";var a="expire_mixin";t.exports=function(){function e(e){t.get(e,Number.MAX_VALUE)<=(new Date).getTime()&&(this.raw.remove(e),t.remove(e))}var t=this.createStore(this.storage,null,this._namespacePrefix+a);return{set:function(e,i,n,r){return this.hasNamespace(a)||t.set(i,r),e()},get:function(t,i){return this.hasNamespace(a)||e.call(this,i),t()},remove:function(e,i){return this.hasNamespace(a)||t.remove(i),e()},getExpiration:function(e,i){return t.get(i)},removeExpiredKeys:function(t){var i=[];this.each((function(e,t){i.push(t)}));for(var a=0;a<i.length;a++)e.call(this,i[a])}}}},{}],4:[function(e,t,i){"use strict";var a=function(){function e(e,t){if(!n[e]){n[e]={};for(var i=0;i<e.length;i++)n[e][e.charAt(i)]=i}return n[e][t]}var t=String.fromCharCode,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={},r={compressToBase64:function(e){if(null==e)return"";var t=r._compress(e,6,(function(e){return i.charAt(e)}));switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:r._decompress(t.length,32,(function(a){return e(i,t.charAt(a))}))},compressToUTF16:function(e){return null==e?"":r._compress(e,15,(function(e){return t(e+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:r._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=r.compress(e),i=new Uint8Array(2*t.length),a=0,n=t.length;a<n;a++){var s=t.charCodeAt(a);i[2*a]=s>>>8,i[2*a+1]=s%256}return i},decompressFromUint8Array:function(e){if(null==e)return r.decompress(e);for(var i=new Array(e.length/2),a=0,n=i.length;a<n;a++)i[a]=256*e[2*a]+e[2*a+1];var s=[];return i.forEach((function(e){s.push(t(e))})),r.decompress(s.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":r._compress(e,6,(function(e){return a.charAt(e)}))},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),r._decompress(t.length,32,(function(i){return e(a,t.charAt(i))})))},compress:function(e){return r._compress(e,16,(function(e){return t(e)}))},_compress:function(e,t,i){if(null==e)return"";var a,n,r,s={},o={},d="",l="",c="",b=2,u=3,p=2,m=[],v=0,h=0;for(r=0;r<e.length;r+=1)if(d=e.charAt(r),Object.prototype.hasOwnProperty.call(s,d)||(s[d]=u++,o[d]=!0),l=c+d,Object.prototype.hasOwnProperty.call(s,l))c=l;else{if(Object.prototype.hasOwnProperty.call(o,c)){if(c.charCodeAt(0)<256){for(a=0;a<p;a++)v<<=1,h==t-1?(h=0,m.push(i(v)),v=0):h++;for(n=c.charCodeAt(0),a=0;a<8;a++)v=v<<1|1&n,h==t-1?(h=0,m.push(i(v)),v=0):h++,n>>=1}else{for(n=1,a=0;a<p;a++)v=v<<1|n,h==t-1?(h=0,m.push(i(v)),v=0):h++,n=0;for(n=c.charCodeAt(0),a=0;a<16;a++)v=v<<1|1&n,h==t-1?(h=0,m.push(i(v)),v=0):h++,n>>=1}0==--b&&(b=Math.pow(2,p),p++),delete o[c]}else for(n=s[c],a=0;a<p;a++)v=v<<1|1&n,h==t-1?(h=0,m.push(i(v)),v=0):h++,n>>=1;0==--b&&(b=Math.pow(2,p),p++),s[l]=u++,c=String(d)}if(""!==c){if(Object.prototype.hasOwnProperty.call(o,c)){if(c.charCodeAt(0)<256){for(a=0;a<p;a++)v<<=1,h==t-1?(h=0,m.push(i(v)),v=0):h++;for(n=c.charCodeAt(0),a=0;a<8;a++)v=v<<1|1&n,h==t-1?(h=0,m.push(i(v)),v=0):h++,n>>=1}else{for(n=1,a=0;a<p;a++)v=v<<1|n,h==t-1?(h=0,m.push(i(v)),v=0):h++,n=0;for(n=c.charCodeAt(0),a=0;a<16;a++)v=v<<1|1&n,h==t-1?(h=0,m.push(i(v)),v=0):h++,n>>=1}0==--b&&(b=Math.pow(2,p),p++),delete o[c]}else for(n=s[c],a=0;a<p;a++)v=v<<1|1&n,h==t-1?(h=0,m.push(i(v)),v=0):h++,n>>=1;0==--b&&(b=Math.pow(2,p),p++)}for(n=2,a=0;a<p;a++)v=v<<1|1&n,h==t-1?(h=0,m.push(i(v)),v=0):h++,n>>=1;for(;;){if(v<<=1,h==t-1){m.push(i(v));break}h++}return m.join("")},decompress:function(e){return null==e?"":""==e?null:r._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(e,i,a){var n,r,s,o,d,l,c,b=[],u=4,p=4,m=3,v="",h=[],w={val:a(0),position:i,index:1};for(n=0;n<3;n+=1)b[n]=n;for(s=0,d=Math.pow(2,2),l=1;l!==d;)o=w.val&w.position,w.position>>=1,0==w.position&&(w.position=i,w.val=a(w.index++)),s|=(o>0?1:0)*l,l<<=1;switch(s){case 0:for(s=0,d=Math.pow(2,8),l=1;l!==d;)o=w.val&w.position,w.position>>=1,0==w.position&&(w.position=i,w.val=a(w.index++)),s|=(o>0?1:0)*l,l<<=1;c=t(s);break;case 1:for(s=0,d=Math.pow(2,16),l=1;l!==d;)o=w.val&w.position,w.position>>=1,0==w.position&&(w.position=i,w.val=a(w.index++)),s|=(o>0?1:0)*l,l<<=1;c=t(s);break;case 2:return""}for(b[3]=c,r=c,h.push(c);;){if(w.index>e)return"";for(s=0,d=Math.pow(2,m),l=1;l!==d;)o=w.val&w.position,w.position>>=1,0==w.position&&(w.position=i,w.val=a(w.index++)),s|=(o>0?1:0)*l,l<<=1;switch(c=s){case 0:for(s=0,d=Math.pow(2,8),l=1;l!==d;)o=w.val&w.position,w.position>>=1,0==w.position&&(w.position=i,w.val=a(w.index++)),s|=(o>0?1:0)*l,l<<=1;b[p++]=t(s),c=p-1,u--;break;case 1:for(s=0,d=Math.pow(2,16),l=1;l!==d;)o=w.val&w.position,w.position>>=1,0==w.position&&(w.position=i,w.val=a(w.index++)),s|=(o>0?1:0)*l,l<<=1;b[p++]=t(s),c=p-1,u--;break;case 2:return h.join("")}if(0==u&&(u=Math.pow(2,m),m++),b[c])v=b[c];else{if(c!==p)return null;v=r+r.charAt(0)}h.push(v),b[p++]=r+v.charAt(0),r=v,0==--u&&(u=Math.pow(2,m),m++)}}};return r}();null!=t&&(t.exports=a)},{}],5:[function(e,t,i){"use strict";function a(e,t,i){i||(i=""),e&&!c(e)&&(e=[e]),t&&!c(t)&&(t=[t]);var a=i?"__storejs_"+i+"_":"",n=i?new RegExp("^"+a):null;if(!/^[a-zA-Z0-9_\-]*$/.test(i))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var m={_namespacePrefix:a,_namespaceRegexp:n,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var i=e.read(t)===t;return e.remove(t),i}catch(e){return!1}},_assignPluginFnProp:function(e,t){var i=this[t];this[t]=function(){var t=r(arguments,0),a=this,n=[function(){if(i)return o(arguments,(function(e,i){t[i]=e})),i.apply(a,t)}].concat(t);return e.apply(a,n)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var i="";try{i=JSON.parse(e)}catch(t){i=e}return void 0!==i?i:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(c(e))o(e,(function(e){t._addPlugin(e)}));else if(!s(this.plugins,(function(t){return e===t}))){if(this.plugins.push(e),!b(e))throw new Error("Plugins must be function values that return objects");var i=e.call(this);if(!u(i))throw new Error("Plugins must return an object of function properties");o(i,(function(i,a){if(!b(i))throw new Error("Bad plugin property: "+a+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(i,a)}))}},addStorage:function(e){(function(){var e="undefined"==typeof console?null:console;e&&(e.warn?e.warn:e.log).apply(e,arguments)})("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},v=l(m,p,{plugins:[]});return v.raw={},o(v,(function(e,t){b(e)&&(v.raw[t]=d(v,e))})),o(e,(function(e){v._addStorage(e)})),o(t,(function(e){v._addPlugin(e)})),v}var n=e("./util"),r=n.slice,s=n.pluck,o=n.each,d=n.bind,l=n.create,c=n.isList,b=n.isFunction,u=n.isObject;t.exports={createStore:a};var p={version:"2.0.12",enabled:!1,get:function(e,t){var i=this.storage.read(this._namespacePrefix+e);return this._deserialize(i,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(i,a){e.call(t,t._deserialize(i),(a||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return a.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return a(this.storage,this.plugins,e)}}},{"./util":6}],6:[function(e,t,a){(function(e){"use strict";function i(e,t){return Array.prototype.slice.call(e,t||0)}function a(e,t){n(e,(function(e,i){return t(e,i),!1}))}function n(e,t){if(r(e)){for(var i=0;i<e.length;i++)if(t(e[i],i))return e[i]}else for(var a in e)if(e.hasOwnProperty(a)&&t(e[a],a))return e[a]}function r(e){return null!==e&&"function"!=typeof e&&"number"==typeof e.length}var s=Object.assign?Object.assign:function(e,t,i,n){for(var r=1;r<arguments.length;r++)a(Object(arguments[r]),(function(t,i){e[i]=t}));return e},o=function(){if(Object.create)return function(e,t,a,n){var r=i(arguments,1);return s.apply(this,[Object.create(e)].concat(r))};var e=function(){};return function(t,a,n,r){var o=i(arguments,1);return e.prototype=t,s.apply(this,[new e].concat(o))}}(),d=String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},l="undefined"!=typeof window?window:e;t.exports={assign:s,create:o,trim:d,bind:function(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}},slice:i,each:a,map:function(e,t){var i=r(e)?[]:{};return n(e,(function(e,a){return i[a]=t(e,a),!1})),i},pluck:n,isList:r,isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"[object Object]"==={}.toString.call(e)},Global:l}}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,i){"use strict";function a(e){for(var t=l.cookie.split(/; ?/g),i=t.length-1;i>=0;i--)if(d(t[i])){var a=t[i].split("="),n=unescape(a[0]);e(unescape(a[1]),n)}}function n(e){e&&r(e)&&(l.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function r(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(l.cookie)}var s=e("../src/util"),o=s.Global,d=s.trim;t.exports={name:"cookieStorage",read:function(e){if(!e||!r(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(l.cookie.replace(new RegExp(t),"$1"))},write:function(e,t){e&&(l.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")},each:a,remove:n,clearAll:function(){a((function(e,t){n(t)}))}};var l=o.document},{"../src/util":6}],8:[function(e,t,i){"use strict";function a(){return r.localStorage}function n(e){return a().getItem(e)}var r=e("../src/util").Global;t.exports={name:"localStorage",read:n,write:function(e,t){return a().setItem(e,t)},each:function(e){for(var t=a().length-1;t>=0;t--){var i=a().key(t);e(n(i),i)}},remove:function(e){return a().removeItem(e)},clearAll:function(){return a().clear()}}},{"../src/util":6}],9:[function(e,t,i){"use strict";t.exports={name:"memoryStorage",read:function(e){return a[e]},write:function(e,t){a[e]=t},each:function(e){for(var t in a)a.hasOwnProperty(t)&&e(a[t],t)},remove:function(e){delete a[e]},clearAll:function(e){a={}}};var a={}},{}],10:[function(e,t,i){"use strict";function a(){return r.sessionStorage}function n(e){return a().getItem(e)}var r=e("../src/util").Global;t.exports={name:"sessionStorage",read:n,write:function(e,t){return a().setItem(e,t)},each:function(e){for(var t=a().length-1;t>=0;t--){var i=a().key(t);e(n(i),i)}},remove:function(e){return a().removeItem(e)},clearAll:function(){return a().clear()}}},{"../src/util":6}]},{},[1])(1)},1542:(e,t,i)=>{"use strict";i.d(t,{M:()=>a});const a={search:"d360-search-event-object",noSearch:"d360-no-search-object",searchBounced:"d360-search-bounced-object",searchViews:"d360-search-view-keyword",searchReads:"d360-search-read-keyword"}},1595:(e,t,i)=>{"use strict";function a(){window.grecaptcha&&$("#reviewSubmit").length&&(grecaptcha.render("reviewSubmit",{sitekey:window.documentData.reCaptchaWebsiteSiteKey,callback:feedbackSubmit}),grecaptcha.reset())}i.d(t,{q:()=>a}),window.resetFeedbackReCaptcha=a},570:(e,t,i)=>{"use strict";function a(){let e="document360.io";return void 0!==window.layoutData&&void 0!==window.layoutData.domainName&&(e=window.layoutData.domainName),"document360.net"===e?"https://api.document360.net/":"document360.info"===e?"https://api.document360.info/":"localhost"===e?"https://localhost:5001/":"dev.document360.net"===e?"https://api.dev.document360.net/":"us.document360.io"===e?"https://api.us.document360.io/":"airtable.document360.io"===e?"https://api.airtable.document360.io/":"neurocrine.document360.io"==e?"https://api.neurocrine.document360.io/":"https://api.document360.io/"}i.d(t,{$z:()=>a})}},t={};function i(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=1e3,t="keepAlive",a="inactive",n="warning",r="activity";function s(){var i=this;i.options={enabled:!1,keepAlive:50,inactive:60,warning:40,monitor:3,disableOnInactive:!1,DOMevents:["mousemove","mousedown","mouseup","keypress","wheel","touchstart","scroll"]},i.user={action:Date.now(),active:!0,warning:!1},i.activity=m,i.on=i.bind=function(e,t){e&&"function"==typeof t&&(e=w(e,t),s[e.name][e.space]=t,!i.options.enabled&&c())},i.off=i.unbind=function(e,t){(e=w(e,t)).space?s[e.name][e.space]=null:s[e.name]={}};var s={};s[t]={},s[a]={},s[n]={},s[r]={};var o={inactivity:null,keepAlive:null};return c.timer=o,i.enable=c,i.disable=d,i;function d(){i.options.enabled=!1,l(),$(document).off(i.options.DOMevents.join(" "),m)}function l(){clearInterval(o.inactivity),clearInterval(o.keepAlive),delete o.inactivity,delete o.keepAlive}function c(){$(document).on(i.options.DOMevents.join(" "),m),i.options.enabled=!0,i.user.warning=!1,b()}function b(){o.keepAlive=setInterval((function(){h(t)}),i.options.keepAlive*e),o.inactivity=setInterval((function(){var t=Date.now(),r=t-(i.options.inactive-i.options.warning)*e,s=t-i.options.inactive*e;!i.user.warning&&i.user.action<=r&&(i.user.warning=!0,h(n)),i.user.active&&i.user.action<=s&&(i.user.active=!1,h(a),i.options.disableOnInactive?d():(l(),u=p))}),i.options.monitor*e)}function u(){v()}function p(){b(),u=v}function m(){u()}function v(){i.user.active=!0,i.user.action=Date.now(),h(r),i.user.warning&&(i.user.warning=!1,h(t))}function h(e){if(i.options.enabled){var t=Object.keys(s[e]);e&&t.length&&t.forEach((function(t){s[e][t]&&"function"==typeof s[e][t]&&s[e][t]()}))}}function w(e,t){return(e=e.split("."))[1]||"function"!=typeof t||(e[1]=t.toString().substr(0,150).replace(/\r?\n|\r|\s+/gm,"")),{name:e[0],space:e[1]}}}var o=i(3710),d=i.n(o),l=i(1595),c=i(570),b=i(1569),u=i(1542);const p="Like",m="Dislike",v="Feedback",h="View",w="TimeSpent",f="Read",S="d360-time-spent",g="d360-read";let k=!1,C=!1,y=!1;function _(){let e=!1;return window.documentData&&window.documentData.isPreview&&(e=!0),e}function I(){this.documentData=window.documentData,this.thankfeedbacktext="Thank you for your feedback!",this.documentData&&"Dummy Value"!==this.documentData.thankFeedBack&&""!==this.documentData.thankFeedBack&&(this.thankfeedbacktext=this.documentData.thankFeedBack);const e=_();if(this.documentData&&!e){const e=`${this.documentData.articleId}_${this.documentData.languageCode}`;this.storage=d().get(e),this.storageData={viewed:!(!this.storage||!this.storage.viewed)&&this.storage.viewed,read:!(!this.storage||!this.storage.read)&&this.storage.read},this.location=d().get("UserLocation"),this.activityMonitor=new s,this.startTime=0,this.stopTime=0,this.running=!1,this.vistorInactive=!1,this.readCollected=!1,this.likeCollected=!1,this.timespentCollecting=!1,this.readCollecting=!1,this.likeCollecting=!1,this.trackingInfo="",this.AdditionalFeedbackInfo={NeedMoreInformation:!1,DifficultToUnderstand:!1,IrrelevantContent:!1,BrokenLink:!1,Others:!1,Comments:!1},this.NotifyMeAboutChanges=!1}}I.prototype.init=function(){const e=_();if(this.documentData&&!e){const t=this,{layoutData:i,documentData:a}=window;function n(){$("#doc_feedback_collect").css("display","block"),$("#reviewSubmit").prop("disabled",!0),$("#reviewSubmit").addClass("btn-disabled")}this.trackingInfo={ArticleId:a.articleId,CategoryId:a.categoryId,IsCategory:a.isCategory,AuthorId:a.authorId,ProjectId:i.projectId,ProjectVersionId:i.projectVersionId,LanguageVersionId:i.languageVersionId,Language:i.langCode,HideFeedbackNameEmail:i.hideUserFeedbackNameEmail,UserType:i.userType,LoggedInUserId:i.loggedInUserId},this.start(),this.activityMonitor.on("inactive",(function(){this.vistorInactive=!0,t.saveTimeSpentEvent(!1)})),this.activityMonitor.on("activity",(function(){this.vistorInactive&&(this.start(),this.vistorInactive=!1)})),$(window).off("beforeunload").on("beforeunload",(()=>this.saveAnalyticsEvents())),$(window).off("locationchange").on("locationchange",(()=>this.saveAnalyticsEvents(!1))),$(window).on("scroll",(function(){$(window).scrollTop()+$(window).height()==$(document).height()&&(this.readCollected||t.saveReadEvent(!1))})),this.collectRead(),this.collectTimeSpent(),this.collectView(),d().removeExpiredKeys(),$("#reviewLikeButton").on("click",(function(){t.collectLike(!0,window.layoutData.userName,window.layoutData.emailId),k=!1,C=!1,y=!0,$("#doc_review_container .actions")[0].innerHTML="",$("#doc_review_container .txt")[0].innerHTML=t.thankfeedbacktext,$("#reviewDislikeButton").removeClass("active"),$("#reviewLikeButton").removeClass("active").addClass("active"),$(".feedback_txt").css("display","none"),$("#doc_feedback_collect").css("display","block"),$("#reviewSubmit").prop("disabled",!0),$("#notifyMeAboutChanges").addClass("email-txt"),$("#reviewSubmit").addClass("btn-disabled"),$("#dislike_feedback").hide(),$("submit-text-container").hide(),$("#email_text_optional").show(),n(),$("#comment-txt").show(),$("#comment-txt-optional").hide(),$("#reviewSubmit").data("isLiked",!0)})),$("#reviewDislikeButton").on("click",(function(){t.collectLike(!1,window.layoutData.userName,window.layoutData.emailId),$("#reviewSubmit").data("isLiked",!1),y=!1,k=!1,C=!1,$("#doc_review_container .actions")[0].innerHTML="",$("#doc_review_container .txt")[0].innerHTML=t.thankfeedbacktext,$("#reviewLikeButton").removeClass("active"),$("#reviewDislikeButton").removeClass("active").addClass("active"),$("#doc_feedback_collect").css("display","block"),$(".feedback_txt").css("display","block"),$(".feedback_txt").addClass(""),$("#reviewSubmit").prop("disabled",!0),$("#reviewSubmit").addClass("btn-disabled"),$("submit-text-container").hide(),$("#dislike_feedback").show(),$("#email_text_optional").show(),$("#comment-txt-optional").show(),$("#comment-txt").hide(),t.AdditionalFeedbackInfo.NeedMoreInformation=$("#needMoreInfo").prop("checked"),t.AdditionalFeedbackInfo.DifficultToUnderstand=$("#difficultToUnderstand").prop("checked"),t.AdditionalFeedbackInfo.IrrelevantContent=$("#irrelevantContent").prop("checked"),t.AdditionalFeedbackInfo.BrokenLink=$("#missingBrokenLink").prop("checked"),t.AdditionalFeedbackInfo.Others=$("#others").prop("checked"),t.AdditionalFeedbackInfo.Comments=$("#reviewSubmit").data("isLiked"),n()})),$("#feedback_mail").off("input").on("input",(function(e){let t=$(this).val()?.toString().trim();""!==t?$(this).addClass("input-not-empty"):$(this).removeClass("input-not-empty"),""==$("#feedback_mail").val()?.toString().trim()||""!==$("#feedback_mail").val()?.toString().trim()&&!/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test($("#feedback_mail").val().trim())?(0==$("#feedback_mail").val()?.toString().length?$("#emailValidator").addClass("hidden").removeClass("display-block"):$("#feedback_mail").val()?.toString().length>0&&$("#emailValidator").addClass("display-block").removeClass("hidden"),k=!1):($("#emailValidator").addClass("hidden").removeClass("display-block"),k=!0)})),$("#feedback_area").off("input").on("input",(function(e){let t=$(this).val()?.toString().trim();""!==t?$(this).addClass("input-not-empty"):$(this).removeClass("input-not-empty"),""==$("#feedback_area").val()?.toString().trim()?($("#feedback_area").val()?.toString().length>0?$("#commentValidator").addClass("display-block").removeClass("hidden"):$("#commentValidator").addClass("hidden").removeClass("display-block"),C=!1):($("#commentValidator").addClass("hidden").removeClass("display-block"),C=!0)})),$("#notifyMeAboutChanges").on("click",(function(){const e=$("#notifyMeAboutChanges").prop("checked"),t=$("#needMoreInfo").prop("checked"),a=$("#difficultToUnderstand").prop("checked"),n=$("#irrelevantContent").prop("checked"),r=$("#missingBrokenLink").prop("checked"),s=$("#others").prop("checked");e?($("#email_text").addClass("emailMandatory"),$("#email_text").show(),$("#email_text_optional").hide(),y?y?$("#feedback_area").val().length>0&&C?k||i.emailId.length>0?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):i.emailId.length>0&&($("#feedback_mail").val().length>0&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0))):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):i.emailId.length>0?a||n||r||t||s?s&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):s&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):$("#feedback_area").val().length>0&&C?(a||n||r||t||s)&&(s&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):s&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):0==s&&(a||n||r||t)?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0))):0==s&&(a||n||r||t)?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):k&&$("#feedback_area").val().length>0&&C&&(t||a||n||r||s)?s&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):s&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):!s&&(a||n||r||t)?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):(t||a||n||r||s)&&k?s&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):s&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):!s&&(a||n||r||t)||k&&C||k&&$("#feedback_area").val().length>=0?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):i.emailId.length>0&&$("#feedback_area").val().length>0&&C&&(t||a||n||r)?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0))):($("#email_text").removeClass("emailMandatory"),$("#email_text_optional").show(),$("#email_text").hide(),i.emailId.length>0?y?y&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):a||n||r||t||s||C?s&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):s&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):0==s&&(a||n||r||t)||0==s&&(a||n||r||t)&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):y?C&&k||C&&0==$("#feedback_mail").val().length?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):$("#feedback_area").val().length>0&&C&&(t||a||n||r||s)?$("#feedback_mail").val().length>0?k?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):$("#feedback_area").val().length>0&&(t||n||r||a||s)?C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):s&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):!s&&(a||n||r||t)?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):t||a||n||r||s?s&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):s&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):!s&&(a||n||r||t)||i.emailId.length>0?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)))})),$("#needMoreInfo,#difficultToUnderstand,#irrelevantContent,#missingBrokenLink").on("click",(function(){const e=$("#needMoreInfo").prop("checked"),t=$("#difficultToUnderstand").prop("checked"),a=$("#irrelevantContent").prop("checked"),n=$("#missingBrokenLink").prop("checked"),r=$("#others").prop("checked");e||t||a||n?$("#notifyMeAboutChanges").prop("checked")?i.emailId.length>0?t||a||n||e?r&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):r&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):0==r&&(t||a||n||e)?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):k&&(t||a||n||e||r)?r&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):$("#feedback_area").val().length>0?e||t||a||n?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):0==$("#feedback_area").val().length&&(e||t||a||n)?r?C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):e||t||a||n?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):i.emailId.length>0?(t||a||n||e||C||r)&&(r&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):r&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):0==r&&(t||a||n||e)?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0))):r&&(t||a||n||e)&&C?$("#feedback_area").val().length>0&&C&&(t||a||n||e)?$("#feedback_mail").val().length>0?k?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):$("#feedback_area").val().length>0&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):t||a||n||e||r?r?C&&k||r&&C&&0==$("#feedback_mail").val().length?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):e||t||a||n?k||(t||a||n||e)&&0==$("#feedback_mail").val().length?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):$("#feedback_area").val().length>0||(t||a||n||e)&&C?i.emailId.length>0?(t||a||n||e||r)&&C?r&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):r&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):0==r&&(t||a||n||e)&&C&&($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):0==r&&(t||a||n||e)&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):$("#notifyMeAboutChanges").prop("checked")&&(e||t||a||n)&&C?$("#feedback_mail").val().length>0?k?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):i.emailId.length>0?(t||a||n||e)&&C?r&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):r&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):0==r&&(t||a||n||e)&&C&&($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):0==r&&(t||a||n||e)&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):(e||t||a||n||r)&&C?r&&(C&&k||!r&&(e||t||a||n)?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0))):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):(t||a||n||e)&&C||$("#notifyMeAboutChanges").prop("checked")&&(e||t||a||n)&&C&&$("#feedback_mail").val().length>0&&k?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0))})),$("#others").on("click",(function(){const e=$("#missingBrokenLink").prop("checked"),t=$("#needMoreInfo").prop("checked"),a=$("#difficultToUnderstand").prop("checked"),n=$("#irrelevantContent").prop("checked"),r=$("#others").prop("checked");r?($("#comment-txt").addClass("commentsMandatory"),$("#comment-txt").show(),$("#comment-txt-optional").hide(),$("#notifyMeAboutChanges").prop("checked")?i.emailId.length>0?a||n||e||t||C?r&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):r&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):0==r&&(a||n||e||t||C)?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):0==r&&(a||n||e||t||C)||a||n||e||t||C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):k&&(C||a||n||e||t||r)?r&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):r?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):i.emailId.length>0?a||n||e||t||C?r&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):r&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):0==r&&(a||n||e||t||C)?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):0==r&&(a||n||e||t||C)||a||n||e||t||C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):$("#feedback_area").val().length>0&&C?$("#feedback_mail").val().length>0?k?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):i.emailId.length>0?a||n||e||t||C?r&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):r&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):0==r&&(a||n||e||t||C)?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):0==r&&(a||n||e||t||C)||a||n||e||t||C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):(a||n||e||t||r||C)&&(r&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):r&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):0==r&&(a||n||e||t||C)?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0))):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0))):($("#comment-txt").removeClass("commentsMandatory"),$("#comment-txt-optional").show(),$("#comment-txt").hide(),$("#notifyMeAboutChanges").prop("checked")?k&&C&&(t||a||e||n)?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):i.emailId.length>0?a||n||e||t||r?r&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):r&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):!r&&(a||n||e||t)&&($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):!r&&(a||n||e||t)?k?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):0==$("#feedback_mail").val().length&&(a||n||e||t||r)?r&&C&&($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):(a||n||e||t)&&C?$("#feedback_mail").val().length>0?k?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):i.emailId.length>0&&$("#feedback_area").val().length>0&&C?(a||n||e||t)&&C&&(r&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):r&&0==$("#feedback_area").val().length?($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):0==r&&(a||n||e||t)&&C&&($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1))):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):$("#feedback_mail").val().length>0?k||$("#feedback_area").val().length>0&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):(a||n||e||t)&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)):0==$("#feedback_area").val().length&&(a||n||e||t)||(a||n||e||t)&&C?($("#reviewSubmit").removeClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!1)):($("#reviewSubmit").addClass("btn-disabled"),$("#reviewSubmit").prop("disabled",!0)))})),$("#reviewCancel").on("click",(function(){C=!1,k=!1,y=!1,$("#doc_review_container .actions")[0].innerHTML="",$("#doc_review_container .txt")[0].innerHTML=t.thankfeedbacktext,$("#doc_feedback_collect").css("display","none"),setTimeout((function(){$("#doc_feedback_collect + .sperator ").css("display","none")}),3e3)}))}},I.prototype.collectView=function(){if(!this.storageData.viewed&&!1===this.documentData.isFallBackContent){const e=JSON.parse(JSON.stringify(this.trackingInfo));e.EventType=h,e.TimeStamp=this.dateTimeUTC(),e.Application="UserWebsite",this.InsertData(e,this.storageData)}},I.prototype.collectRead=function(){const e=sessionStorage.getItem(g);e&&(this.InsertData(JSON.parse(e),this.storageData),sessionStorage.removeItem(g))},I.prototype.saveReadEvent=function(e=!0){if(!this.storageData.read&&!this.readCollected&&!this.readCollecting&&!1===this.documentData.isFallBackContent){this.readCollecting=!0;const t=JSON.parse(JSON.stringify(this.trackingInfo));t.EventType=f,t.TimeStamp=this.dateTimeUTC(),t.Application="UserWebsite",e?sessionStorage.setItem(g,JSON.stringify(t)):this.InsertData(t,this.storageData)}const t=sessionStorage.getItem(u.M.searchReads);t&&((0,b.o7)(t,"SearchReads"),sessionStorage.removeItem(u.M.searchReads))},I.prototype.collectLike=function(e,t,i){if(!this.likeCollected&&!1===this.documentData.isFallBackContent){this.likeCollected=!0;const a=JSON.parse(JSON.stringify(this.trackingInfo));a.TimeStamp=this.dateTimeUTC(),a.Application="UserWebsite",a.Name=t,a.Email=i,a.EventType=e?p:m,this.InsertData(a,this.storageData)}},I.prototype.submitFeedback=function(e){const t=this,i=$("#feedback_area").val();let a=$("#feedback_name").val(),n=$("#feedback_mail").val();const r=$("#reviewSubmit").data("isLiked");k=!1,C=!1,y=!1,t.NotifyMeAboutChanges=$("#notifyMeAboutChanges").prop("checked"),t.AdditionalFeedbackInfo.NeedMoreInformation=$("#needMoreInfo").prop("checked"),t.AdditionalFeedbackInfo.DifficultToUnderstand=$("#difficultToUnderstand").prop("checked"),t.AdditionalFeedbackInfo.IrrelevantContent=$("#irrelevantContent").prop("checked"),t.AdditionalFeedbackInfo.BrokenLink=$("#missingBrokenLink").prop("checked"),t.AdditionalFeedbackInfo.Others=$("#others").prop("checked"),t.AdditionalFeedbackInfo.Comments=r,t.trackingInfo.HideFeedbackNameEmail&&(a=window.layoutData.userName,n=window.layoutData.emailId),t.collectFeedback(r,a,n,i,t.NotifyMeAboutChanges,t.AdditionalFeedbackInfo,e),$("#doc_review_container .actions").html(""),$("#doc_review_container .txt").html(t.thankfeedbacktext),$("#doc_feedback_collect").css("display","none"),$("#notifyMeAboutChanges").prop("checked")&&($("#submit-text-container").show(),$("#doc_review_container .txt").html("")),setTimeout((function(){$("#doc_feedback_collect + .sperator ").css("display","none")}),3e3)},I.prototype.collectFeedback=function(e,t,i,a,n,r,s){if(this.documentData.isFallBackContent)return;const o=JSON.parse(JSON.stringify(this.trackingInfo));o.TimeStamp=this.dateTimeUTC(),o.EventType=v,o.Name=t,o.Email=i,o.Feedback=a,o.IsLiked=e,o.Application="Knowledgebase",o.NotifyMeAboutChanges=n,o.AdditionalFeedbackInfo=r,o.ReCaptchaFeedbackToken=s,this.InsertFeedback(o,this.storageData)},I.prototype.collectTimeSpent=function(){const e=sessionStorage.getItem(S);e&&(this.InsertData(JSON.parse(e),this.storageData),sessionStorage.removeItem(S))},I.prototype.saveTimeSpentEvent=function(e=!0){if(!this.timespentCollecting&&this.running&&!1===this.documentData.isFallBackContent){this.timespentCollecting=!0,this.stop();const t=this.getElapsedSeconds();if(t>=10){const i=JSON.parse(JSON.stringify(this.trackingInfo));i.TimeStamp=this.dateTimeUTC(),i.EventType=w,i.TimeSpent=t,i.Application="UserWebsite",e?sessionStorage.setItem(S,JSON.stringify(i)):this.InsertData(i,i)}}},I.prototype.saveAnalyticsEvents=function(e=!0){this.getElapsedSeconds()>=60&&this.saveReadEvent(e),this.saveTimeSpentEvent(e)},I.prototype.dateTimeUTC=function(){return(new Date).toISOString()},I.prototype.currentTime=function(){return(new Date).getTime()},I.prototype.start=function(){this.startTime=this.currentTime(),this.running=!0},I.prototype.stop=function(){this.stopTime=this.currentTime(),this.running=!1},I.prototype.getElapsedMilliseconds=function(){return this.running&&(this.stopTime=this.currentTime()),this.stopTime-this.startTime},I.prototype.getElapsedSeconds=function(){const e=this.getElapsedMilliseconds()/1e3;return Math.round(Number(e))},I.prototype.InsertData=function(e,t,i){if(window.layoutData.isSupportUser)return;const a=(0,c.$z)(),n=JSON.stringify(e);if(void 0!==a&&a.length>0&&void 0!==n&&n.length>0){const i=$.ajax({headers:{ProjectId:e.ProjectId},type:"POST",data:n,contentType:"application/json",url:window.layoutData.analyticsDataCollectorUrl});i.done((function(i){e.EventType===h?t.viewed=!0:e.EventType===f?(t.read=!0,this.readCollected=!0,this.readCollecting=!1):e.EventType===p||e.EventType===m?(t.liked=!0,this.likeCollected=!0,this.likeCollecting=!1):e.EventType===w&&(this.timespentCollecting=!1);const a=`${e.ArticleId}_${e.Language}`;d().set(a,t,new Date((new Date).getTime()+864e5).getTime())})),i.fail((function(e,t,i){this.timespentCollecting=!1,this.readCollecting=!1,this.likeCollecting=!1}))}},I.prototype.InsertFeedback=function(e,t,i){const a=new I;a.init();const n=(0,c.$z)(),r=JSON.stringify(e);if(void 0!==n&&n.length>0&&void 0!==r&&r.length>0){const i=$.ajax({headers:{ProjectId:e.ProjectId},type:"PUT",data:r,contentType:"application/json-patch+json",url:`${n}api/Analytics/Feedback`});i.done((function(i){i.success?(e.EventType===p||e.EventType===m||e.EventType===v?(t.liked=!0,this.likeCollected=!0,this.likeCollecting=!1):e.EventType===w&&(this.timespentCollecting=!1),d().set(e.ArticleId,t,new Date((new Date).getTime()+864e5).getTime())):a.FeedbackErrorResponse()})),i.fail((function(e,t,i){this.timespentCollecting=!1,this.readCollecting=!1,this.likeCollecting=!1,a.FeedbackErrorResponse()}))}},I.prototype.FeedbackErrorResponse=function(){$("#pageloader").addClass("d-none"),$(".notify-toaster").removeClass("inprogress"),$(".notify-toaster").addClass("error"),$(".notify-toaster").addClass("display-block"),$(".notify-toaster").text("Feedback not submitted. Please try again"),setTimeout((function(){$(".notify-toaster").fadeOut(),$(".notify-toaster").removeClass("display-block")}),7e3)},I.prototype.GetLocation=function(){const e=this,t=$.ajax({type:"GET",contentType:"application/json-patch+json",url:`${(0,c.$z)()}api/Analytics/GetVisitorInformation`});t.done((function(t){const i=t.visitorInformation.country.isoCode;d().set("UserLocation",i),e.location=i})),t.fail((function(t,i,a){const n="Unknown";d().set("UserLocation",n),e.location=n}))},window.feedbackSubmit=function(e){if(e){const t=new I;t.init(),t.submitFeedback(e)}else(0,l.q)()}})()})();